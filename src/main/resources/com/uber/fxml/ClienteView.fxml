<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Line?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.uber.controllers.ClienteController"
            prefWidth="1000" prefHeight="700"
            stylesheets="@../css/style.css">

    <top>
        <VBox>
            <HBox styleClass="header-background" alignment="CENTER_LEFT" spacing="20">
                <VBox spacing="5">
                    <Label fx:id="lblSaludo" text="Hola, Usuario" styleClass="header-title"/>
                    <Label text="Â¿Listo para tu prÃ³ximo viaje?" styleClass="header-subtitle"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <VBox alignment="CENTER_RIGHT" spacing="0">
                    <Label text="Saldo disponible" styleClass="saldo-label"/>
                    <Label fx:id="lblSaldo" text="0.00â‚¬" styleClass="saldo-amount"/>
                </VBox>
            </HBox>

            <HBox styleClass="nav-bar" spacing="10">
                <Button fx:id="btnNavVehiculos" text="ðŸš— VehÃ­culos Disponibles" styleClass="nav-button, nav-button-selected" onAction="#mostrarVistaVehiculos"/>
                <Button fx:id="btnNavReservas" text="ðŸ•’ Mis Reservas" styleClass="nav-button" onAction="#mostrarVistaReservas"/>
                <Button fx:id="btnNavPerfil" text="ðŸ‘¤ Mi Perfil" styleClass="nav-button" onAction="#mostrarVistaPerfil"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Cerrar SesiÃ³n" onAction="#onCerrarSesion"
                        style="-fx-background-color: transparent; -fx-text-fill: #EF9A9A; -fx-cursor: hand;"/>
            </HBox>

            <HBox fx:id="panelFiltros" styleClass="filter-bar" spacing="15" alignment="CENTER_LEFT">
                <Button text="Todos" styleClass="filter-button, filter-button-selected" onAction="#filtrarTodos"/>
                <Button text="ðŸš— Coches" styleClass="filter-button" onAction="#filtrarCoches"/>
                <Button text="ðŸ›µ Motos" styleClass="filter-button" onAction="#filtrarMotos"/>
                <Button text="âš¡ Patinetes" styleClass="filter-button" onAction="#filtrarPatinetes"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <StackPane>

            <ScrollPane fx:id="vistaVehiculos" fitToWidth="true" styleClass="scroll-pane">
                <FlowPane fx:id="contenedorVehiculos" hgap="20" vgap="20"
                          style="-fx-padding: 20;" alignment="TOP_LEFT"/>
            </ScrollPane>

            <ScrollPane fx:id="vistaReservas" fitToWidth="true" styleClass="scroll-pane" visible="false">
                <VBox fx:id="contenedorReservas" spacing="15" styleClass="reservas-container"/>
            </ScrollPane>

            <ScrollPane fx:id="vistaPerfil" fitToWidth="true" styleClass="scroll-pane" visible="false">
                <VBox alignment="TOP_CENTER" styleClass="profile-container">

                    <VBox styleClass="profile-card" spacing="25">

                        <HBox spacing="20" alignment="CENTER_LEFT">
                            <StackPane styleClass="avatar-circle">
                                <Label fx:id="lblIniciales" text="JC" styleClass="avatar-text"/>
                            </StackPane>

                            <VBox spacing="2" alignment="CENTER_LEFT">
                                <Label fx:id="lblNombrePerfil" text="Juan Cliente" styleClass="profile-name"/>
                                <Label text="Cliente" styleClass="profile-role"/>
                            </VBox>
                        </HBox>

                        <VBox styleClass="info-box" spacing="5">
                            <Label text="Email" styleClass="info-label"/>
                            <Label fx:id="lblEmailPerfil" text="juan@ejemplo.com" styleClass="info-value"/>
                        </VBox>

                        <VBox styleClass="info-box" spacing="5">
                            <Label text="TelÃ©fono" styleClass="info-label"/>
                            <Label fx:id="lblTelefonoPerfil" text="611111111" styleClass="info-value"/>
                        </VBox>

                        <HBox styleClass="info-box" alignment="CENTER_LEFT" spacing="10">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="MÃ©todo de pago" styleClass="info-label"/>
                                <HBox spacing="8" alignment="CENTER_LEFT">
                                    <Label text="ðŸ’³" style="-fx-font-size: 16px;"/>
                                    <Label fx:id="lblMetodoPago" text="PAYPAL" styleClass="info-value"/>
                                </HBox>
                            </VBox>
                            <Button text="Cambiar" styleClass="link-action" onAction="#onCambiarMetodoPago"/>
                        </HBox>

                        <HBox styleClass="info-box" alignment="CENTER_LEFT" spacing="10">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Saldo" styleClass="info-label"/>
                                <Label fx:id="lblSaldoPerfil" text="20.00â‚¬" styleClass="saldo-amount"/>
                            </VBox>
                            <Button text="AÃ±adir Saldo" styleClass="btn-small-dark" onAction="#onAnadirSaldo"/>
                        </HBox>

                        <Button text="Editar Perfil" maxWidth="Infinity" styleClass="btn-wide-action" onAction="#onEditarPerfil"/>

                    </VBox>
                </VBox>
            </ScrollPane>

        </StackPane>
    </center>

</BorderPane>